package com.example.bleappimport android.annotation.SuppressLintimport android.bluetooth.BluetoothDeviceimport android.view.LayoutInflaterimport android.view.ViewGroupimport androidx.recyclerview.widget.RecyclerViewimport com.example.bleapp.databinding.ItemDeviceBindingclass DevicesAdapter : RecyclerView.Adapter<DevicesAdapter.DeviceViewHolder>() {    private val items = mutableListOf<BluetoothDevice>()    private var callBack: Callback? = null    @SuppressLint("NotifyDataSetChanged")    fun update(items: List<BluetoothDevice>) {        this.items.clear()        this.items.addAll(items)        notifyDataSetChanged()    }    override fun onCreateViewHolder(parent: ViewGroup, viewType: Int): DeviceViewHolder {        val binding = ItemDeviceBinding            .inflate(LayoutInflater.from(parent.context), parent, false)        return DeviceViewHolder(binding)    }    override fun onBindViewHolder(holder: DeviceViewHolder, position: Int) {        holder.onBind(items[position])    }    override fun getItemCount(): Int = items.size    inner class DeviceViewHolder(private val binding: ItemDeviceBinding) :        RecyclerView.ViewHolder(binding.root) {        fun onBind(item: BluetoothDevice) {            binding.container.setOnClickListener { callBack?.onItemClick(item) }            binding.apply {                textName.text = item.name ?: textName.context.getString(R.string.unnamed_device)                textAddress.text = item.address            }        }    }    interface Callback {        fun onItemClick(device: BluetoothDevice)    }}